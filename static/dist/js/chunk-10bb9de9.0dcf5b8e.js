(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10bb9de9"],{2532:function(t,o,e){"use strict";var s=e("23e7"),a=e("5a34"),n=e("1d80"),r=e("ab13");s({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,o,e){var s=e("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},a388:function(t,o,e){"use strict";var s=e("fe3f"),a=e.n(s);a.a},ab13:function(t,o,e){var s=e("b622"),a=s("match");t.exports=function(t){var o=/./;try{"/./"[t](o)}catch(e){try{return o[a]=!1,"/./"[t](o)}catch(s){}}return!1}},d9c9:function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"layout-page bg-panel-4"},[e("v-header",{staticClass:"nav-tab"}),e("main",{staticClass:"flex-fill flex-shrink"},[e("div",{staticClass:"fn-center p-t-lg p-b-md"},[e("img",{staticClass:"h-80",attrs:{src:t.logoMap.login_logo,alt:""}})]),e("div",{staticClass:"form m-lg"},[e("div",{staticClass:"form-item border-b m-b-md p-b-xs"},[e("div",{staticClass:"label m-b-xs"},[t._v(t._s(t.$t("login.a0")))]),e("v-input",{staticClass:"color-light",attrs:{placeholder:t.$t("login.a1")},model:{value:t.form.account,callback:function(o){t.$set(t.form,"account",o)},expression:"form.account"}})],1),e("div",{staticClass:"form-item border-b m-b-md p-b-xs"},[e("div",{staticClass:"label m-b-xs"},[t._v(t._s(t.$t("login.a2")))]),e("v-input",{staticClass:"color-light",attrs:{type:"password",placeholder:t.$t("login.a3")},model:{value:t.form.password,callback:function(o){t.$set(t.form,"password",o)},expression:"form.password"}})],1),e("v-button",{staticClass:"w-max m-b-md",attrs:{type:"theme"},on:{click:t.toLogin}},[t._v(t._s(t.$t("login.a4")))]),e("router-link",{staticClass:"tips fn-sm color-sell",attrs:{tag:"div",to:"/safe/forget-password"}},[t._v(t._s(t.$t("login.a5"))+"？")])],1)]),e("div",{staticClass:"m-x-lg p-x-lg"},[e("div",{staticClass:"p-y-md border-t fn-center"},[t._v(" "+t._s(t.$t("login.a6"))+"， "),e("router-link",{staticClass:"color-theme-1",attrs:{to:"/reg?from=login"}},[t._v(t._s(t.$t("login.a7")))])],1)]),e("van-popup",{style:{height:"80%"},attrs:{closeable:"","close-on-popstate":"",position:"bottom"},model:{value:t.secondaryShow,callback:function(o){t.secondaryShow=o},expression:"secondaryShow"}},[e("van-tabs",{staticClass:"m-t-lg p-t-lg",model:{value:t.form2.code_type,callback:function(o){t.$set(t.form2,"code_type",o)},expression:"form2.code_type"}},[1==t.secondaryData.google_status?e("van-tab",{attrs:{title:"Google",name:3}},[e("v-input",{staticClass:"border h-40 m-y-md m-x-lg p-x-md",attrs:{type:"number",placeholder:t.$t("common.code")},model:{value:t.form2.code,callback:function(o){t.$set(t.form2,"code",o)},expression:"form2.code"}})],1):t._e(),1==t.secondaryData.phone_status?e("van-tab",{attrs:{title:t.$t("login.a8"),name:1}},[e("v-input",{staticClass:"border h-40 m-y-md m-x-lg p-x-md",attrs:{type:"number",placeholder:t.$t("common.code")},scopedSlots:t._u([{key:"right",fn:function(){return[e("v-code",{ref:"mobileCode",attrs:{type:"theme",url:"/login/sendSmsCodeBeforeLogin",data:{signature:t.form2.signature}}})]},proxy:!0}],null,!1,3279593081),model:{value:t.form2.code,callback:function(o){t.$set(t.form2,"code",o)},expression:"form2.code"}})],1):t._e(),1==t.secondaryData.email_status?e("van-tab",{attrs:{title:t.$t("login.a9"),name:2}},[e("v-input",{staticClass:"border h-40 m-y-md m-x-lg p-x-md",attrs:{type:"number",placeholder:t.$t("common.code")},scopedSlots:t._u([{key:"right",fn:function(){return[e("v-code",{ref:"emailCode",attrs:{type:"theme",url:"/login/sendEmailCodeBeforeLogin",data:{signature:t.form2.signature}}})]},proxy:!0}],null,!1,788459668),model:{value:t.form2.code,callback:function(o){t.$set(t.form2,"code",o)},expression:"form2.code"}}),e("div",{staticClass:"m-md"})],1):t._e()],1),e("div",{staticClass:"m-md"},[e("v-button",{staticClass:"w-max",attrs:{type:"theme"},on:{click:t.sendCodeLogin}},[t._v(t._s(t.$t("login.a4")))])],1)],1)],1)},a=[],n=(e("caad"),e("2532"),e("5530")),r=e("8194"),i=e("2f62"),c={data:function(){return{form:{type:1,account:"",password:""},form2:{code:"",code_type:"",signature:""},secondaryData:{},secondaryShow:!1,activeName:1}},computed:Object(n["a"])({},Object(i["c"])({logoMap:"logoMap"})),methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])({setToken:"token",setUser:"user"})),{},{toLogin:function(){var t=this;this.form.account.includes("@")?this.form.type=2:this.form.type=1,this.form.account?this.form.password?r["a"].login(this.form).then((function(o){1021==o.code?t.loginVer(o.data):t.loginSuccess(o.data)})).catch((function(){})):this.$toast(this.$t("login.a3")):this.$toast(this.$t("login.a1"))},loginVer:function(t){var o=this;this.secondaryShow=!0,this.secondaryData=t,this.form2.signature=t.signature,1==t.google_status?this.form2.code_type:1==t.phone_status?(this.form2.code_type,this.$nextTick((function(){o.$refs.mobileCode.send()}))):1==t.email_status&&(this.form2.code_type,this.$nextTick((function(){o.$refs.emailCode.send()})))},sendCodeLogin:function(){var t=this;r["a"].loginConfirm(this.form2,{loading:!0}).then((function(o){t.loginSuccess(o.data)}))},loginSuccess:function(t){this.setToken(t.token),this.setUser(t.user),this.$router.push("/home")}}),mounted:function(){},beforeRouteLeave:function(t,o,e){var s=this.$route.query;"/home"!=s.from&&t.fullPath==s.from&&s.notLogin?e("/home"):e()}},l=c,d=(e("a388"),e("2877")),m=Object(d["a"])(l,s,a,!1,null,"6d5d5e55",null);o["default"]=m.exports},fe3f:function(t,o,e){}}]);