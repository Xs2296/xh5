(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66bb05a0"],{2532:function(t,n,e){"use strict";var a=e("23e7"),i=e("5a34"),r=e("1d80"),c=e("ab13");a({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"33c7":function(t,n,e){"use strict";e.r(n);var a,i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"layout-page"},[e("v-header",{staticClass:"nav-head",attrs:{title:t.$t("transfer.a8")},scopedSlots:t._u([{key:"right",fn:function(){return[e("router-link",{attrs:{to:"/transfer/bill"}},[e("van-icon",{staticClass:"fn-20 m-t-xs",attrs:{name:"todo-list-o"}})],1)]},proxy:!0}])}),e("main",{staticClass:"layout-main"},[e("div",{staticClass:"top"}),e("div",{staticClass:"panel-box m-x-md rounded p-md bg-panel-4"},[e("div",{staticClass:"from item border-b p-y-xs p-l-md",on:{click:t.fromChange}},[e("div",{staticClass:"label fn-sm color-gray-6"},[t._v(t._s(t.$t("transfer.a9")))]),e("div",{staticClass:"select d-flex align-center"},[e("span",{staticClass:"fn-lg color-light"},[t._v(t._s(t.accountMap[t.form.from_account])+t._s(t.fromChild.label))]),e("van-icon",{staticClass:"m-l-xs fn-lg",attrs:{name:"arrow"}})],1)]),e("div",{staticClass:"to item p-y-xs p-l-md",on:{click:t.toChange}},[e("div",{staticClass:"label fn-sm color-gray-6"},[t._v(t._s(t.$t("transfer.b0")))]),e("div",{staticClass:"select d-flex align-center"},[e("span",{staticClass:"fn-lg color-light"},[t._v(t._s(t.accountMap[t.form.to_account])+t._s(t.toChild.label))]),e("van-icon",{staticClass:"m-l-xs fn-lg",attrs:{name:"arrow"}})],1)]),e("div",{staticClass:"line"}),e("div",{staticClass:"exchange d-flex justify-center align-center bg-panel-4 shadow-panel-4 link-active",on:{click:t.swap}},[e("van-icon",{staticClass:"fn-22 color-light",attrs:{name:"exchange"}})],1)]),e("div",{staticClass:"m-md p-md d-flex rounded bg-panel-4",on:{click:t.coinChange}},[e("div",{staticClass:"flex-fill"},[t._v(t._s(t.$t("transfer.b1")))]),e("div",{staticClass:"color-light"},[t._v(t._s(t.form.coin_name))]),e("van-icon",{staticClass:"m-l-xs",attrs:{name:"arrow"}})],1),e("div",{staticClass:"m-md p-md rounded bg-panel-4"},[e("div",{staticClass:"label fn-sm d-flex justify-between"},[e("div",[t._v(t._s(t.$t("transfer.a2")))]),e("div",{staticClass:"color-theme-1 fn-sm"},[t._v(" "+t._s(t.$t("transfer.b2"))+"ï¼š"+t._s(t.activeCoin.usable_balance)+" ")])]),e("div",{staticClass:"m-t-md"},[e("v-input",{staticClass:"fn-20",attrs:{placeholder:"0.000"},scopedSlots:t._u([{key:"right",fn:function(){return[e("div",{staticClass:"d-flex fn-md"},[e("div",{staticClass:"m-r-xs"},[t._v(t._s(t.form.coin_name))]),e("div",{staticClass:"border-l color-sell p-l-xs",on:{click:function(n){t.form.amount=t.activeCoin.usable_balance}}},[t._v(" "+t._s(t.$t("transfer.b3"))+" ")])])]},proxy:!0}]),model:{value:t.form.amount,callback:function(n){t.$set(t.form,"amount",n)},expression:"form.amount"}})],1)])]),e("div",{staticClass:"p-md bg-panel-4"},[e("v-button",{ref:"btn",staticClass:"w-max",attrs:{type:"theme"},on:{click:t.fundsTransfer}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)},r=[],c=(e("4de4"),e("7db0"),e("4160"),e("caad"),e("d81d"),e("b0c0"),e("c1f9"),e("b64b"),e("2532"),e("159b"),e("5530")),o=e("ade3"),s=e("b933"),u=e("2ef0"),l=e.n(u),f={data:function(){return{exID:1,coinList:[],initial:[],accountMap:{},transferList:{},accountChildren:{},fromChild:{},toChild:{},form:{from_account:"",to_account:"",amount:"",pair_id:"",coin_name:"",coinListShow:!1},activeCoin:{}}},computed:{fromList:function(){var t=this;return Object.keys(this.transferList).map((function(n){return{label:t.accountMap[n],value:n}}))},toList:function(){var t=this;return this.transferList[this.form.from_account].map((function(n){return{label:t.accountMap[n],value:n}}))},pair_id:function(){return this.fromChild.contract_id||this.toChild.contract_id}},components:{},watch:(a={},Object(o["a"])(a,"form.from_account",(function(t){var n=this;if(!this.transferList[t].includes(this.form.to_account)){this.form.to_account=this.transferList[t][0];var e=this.initial.find((function(t){return t.id==n.form.to_account}));if(!e.is_need_pair)return void this.getUserCoinAssets();this.accountPairList(this.form.to_account,(function(t){n.toChild=t[0],n.getUserCoinAssets()}))}})),Object(o["a"])(a,"pair_id",(function(){this.getUserCoinAssets()})),Object(o["a"])(a,"form.to_account",(function(){this.getUserCoinAssets()})),Object(o["a"])(a,"form.coin_name",(function(t){t&&this.getBalance()})),Object(o["a"])(a,"coinList",(function(){})),a),methods:{fromChange:function(){var t=this;this.$picker(this.fromList,{value:this.form.from_account}).then((function(n){t.form.from_account=n;var e=t.initial.find((function(n){return n.id==t.form.from_account}));e.is_need_pair?t.accountPairList(t.form.from_account,(function(n){t.fromChild.id||(t.fromChild=n[0]);var e=n.map((function(t){return{value:t.id,label:t.label}}));t.$picker(e,{value:t.fromChild.id}).then((function(e){t.fromChild=n.find((function(t){return t.id==e}))}))})):t.fromChild={}}))},toChange:function(){var t=this;this.$picker(this.toList,{value:this.form.to_account}).then((function(n){t.form.to_account=n;var e=t.initial.find((function(n){return n.id==t.form.to_account}));e.is_need_pair?t.accountPairList(t.form.to_account,(function(n){t.toChild.id||(t.toChild=n[0]);var e=n.map((function(t){return{value:t.id,label:t.label}}));t.$picker(e,{value:t.toChild.id}).then((function(e){t.toChild=n.find((function(t){return t.id==e}))}))})):t.toChild={}}))},swap:function(){var t=[this.form.to_account,this.form.from_account];this.form.from_account=t[0],this.form.to_account=t[1];var n=[this.toChild,this.fromChild];this.fromChild=n[0],this.toChild=n[1],this.form.pair_id=this.toChild.id},coinChange:function(){var t=this,n=this.coinList.map((function(t){return{label:t.coin_name,value:t.coin_name}}));this.$picker(n,{value:this.form.coin_name}).then((function(n){t.form.coin_name=n}))},getUserCoinAssets:l.a.debounce((function(){var t=this;s["a"].coinList({from_account:this.form.from_account,to_account:this.form.to_account,pair_id:this.pair_id}).then((function(n){t.coinList=n.data,t.coinList[0]&&(t.form.coin_name=t.coinList[0].coin_name,t.getBalance())})).catch((function(){}))}),300),fundsTransfer:function(){var t=this,n=Object(c["a"])(Object(c["a"])({},this.form),{},{pair_id:this.pair_id});s["a"].transfer(n).then((function(){t.$toast.success(t.$t("transfer.b4")),t.form.amount="",t.getUserCoinAssets()})).catch((function(){}))},accounts:function(){var t=this;s["a"].accounts().then((function(n){t.initial=n.data,t.accountMap=Object.fromEntries(n.data.map((function(t){return[t.id,t.name]})));var e=t.exID;t.transferList={};var a=n.data.map((function(t){return t.id})),i=function(n){t.transferList[n]=n==e?a.filter((function(t){return t!=n})):[e]};for(var r in t.accountMap)i(r);t.form.from_account=e;var c=t.initial.find((function(t){return t.id==e}));c.is_need_pair&&t.accountPairList(t.form.from_account,(function(n){t.formChild=n[0]}));var o=t.initial.filter((function(t){return t.id!=e}))[0];if(o){if(t.form.to_account=o.id,!o.is_need_pair)return;t.accountPairList(t.form.to_account,(function(n){t.toChild=n[0]}))}}))},accountPairList:function(t,n){var e=this;this.accountChildren[t]?n(this.accountChildren[t]):s["a"].accountPairList({account:t}).then((function(a){a.data.forEach((function(t){t.label=t.coin_name+"/"+t.margin_name})),e.accountChildren[t]=a.data,n(a.data)}))},getBalance:l.a.debounce((function(){var t=this,n={account:this.form.from_account,pair_id:this.pair_id,coin_name:this.form.coin_name};s["a"].getBalance(n).then((function(n){t.activeCoin=n.data}))}))},created:function(){this.accounts()}},d=f,h=(e("989f"),e("2877")),m=Object(h["a"])(d,i,r,!1,null,"5e1112fa",null);n["default"]=m.exports},"4ef9":function(t,n,e){},"5a34":function(t,n,e){var a=e("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"989f":function(t,n,e){"use strict";var a=e("4ef9"),i=e.n(a);i.a},ab13:function(t,n,e){var a=e("b622"),i=a("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,"/./"[t](n)}catch(a){}}return!1}},b933:function(t,n,e){"use strict";var a=e("d4ec"),i=e("bee2"),r=e("365c"),c=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,null,[{key:"withdrawalRecord",value:function(){return Object(r["b"])("/user/withdrawalRecord")}},{key:"depositHistory",value:function(){return Object(r["b"])("/user/depositHistory")}},{key:"transferRecord",value:function(){return Object(r["a"])("/wallet/transferRecords")}},{key:"personalAssets",value:function(){return Object(r["b"])("/user/personalAssets")}},{key:"fundAccount",value:function(t){return Object(r["b"])("/user/fundAccount",t)}},{key:"tokenList",value:function(t){return Object(r["b"])("/user/tokenList",t)}},{key:"fundsTransfer",value:function(t){return Object(r["b"])("/user/appFundsTransfer",t)}},{key:"walletImage",value:function(t){return Object(r["b"])("/user/walletImage",t)}},{key:"recharge",value:function(t){return Object(r["b"])("/user/recharge",t)}},{key:"withdraw",value:function(t){return Object(r["b"])("/user/withdraw",t)}},{key:"getUserWithdrawAdress",value:function(t){return Object(r["b"])("/user/withdrawalAddressManagement",t)}},{key:"editUserWithdrawAdress",value:function(t){return Object(r["b"])("/user/editUserAdress",t)}},{key:"delUserWithdrawAdress",value:function(t){return Object(r["b"])("/user/withdrawalAddressManagement",t)}},{key:"addUserWithdrawAdress",value:function(t){return Object(r["b"])("/",t)}},{key:"withdrawalSelectAddress",value:function(){return Object(r["b"])("/user/withdrawalSelectAddress")}},{key:"addWithdrawAddress",value:function(t){return Object(r["b"])("/user/withdrawalAddressAdd",t)}},{key:"withdrawalBalance",value:function(t){return Object(r["b"])("/user/withdrawalBalance",t)}},{key:"withdrawalAddressModify",value:function(t){return Object(r["b"])("/user/withdrawalAddressModify",t)}},{key:"withdrawalAddressDeleted",value:function(t){return Object(r["b"])("/user/withdrawalAddressDeleted",t)}},{key:"appTokenAssets",value:function(t){return Object(r["b"])("/user/appTokenAssets",t)}},{key:"appTransferRecord",value:function(t){return Object(r["b"])("/user/appTransferRecord",t)}},{key:"appWithdrawalRecord",value:function(t){return Object(r["b"])("/user/appWithdrawalRecord",t)}},{key:"appDepositHistory",value:function(t){return Object(r["b"])("/user/appDepositHistory",t)}},{key:"getWalletLogs",value:function(t){return Object(r["a"])("/user/getWalletLogs",t)}},{key:"createWalletAddress",value:function(){return Object(r["b"])("/user/createWalletAddress")}},{key:"collectionType",value:function(t){return Object(r["b"])("/user/collectionType",t)}},{key:"accounts",value:function(t){return Object(r["a"])("/wallet/accounts",t)}},{key:"accountPairList",value:function(t){return Object(r["a"])("/wallet/accountPairList",t)}},{key:"coinList",value:function(t){return Object(r["a"])("/wallet/coinList",t)}},{key:"getBalance",value:function(t){return Object(r["a"])("/wallet/getBalance",t)}},{key:"transfer",value:function(t){return Object(r["b"])("/wallet/transfer",t)}},{key:"accountList",value:function(t){return Object(r["a"])("/contract/accountList",t)}},{key:"accountFlow",value:function(t){return Object(r["a"])("/contract/accountFlow",t)}}]),t}();n["a"]=c},c1f9:function(t,n,e){var a=e("23e7"),i=e("2266"),r=e("8418");a({target:"Object",stat:!0},{fromEntries:function(t){var n={};return i(t,(function(t,e){r(n,t,e)}),void 0,!0),n}})}}]);