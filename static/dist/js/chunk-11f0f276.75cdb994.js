(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11f0f276"],{"11dc":function(e,t,s){"use strict";var o=s("d2f9"),a=s.n(o);a.a},b128:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-page"},[s("v-header",{attrs:{title:""+(e.user.google_token?e.$t("safe.a0"):e.$t("safe.a1"))+e.$t("safe.b9")}}),s("main",{directives:[{name:"show",rawName:"v-show",value:1==e.step&&!e.user.google_token,expression:"step==1&&!user.google_token"}],staticClass:"layout-main bg-panel-4 p-t-md"},[s("div",{staticClass:"p-x-md p-y-xs bg-theme-1-transparent color-theme-1 fn-sm"},[e._v(e._s(e.$t("safe.c0"))+"ã€‚")]),s("div",{staticClass:"row p-md fn-center code-box"},[s("v-qr",{staticClass:"v-qr",attrs:{text:e.googleToken.qrcode_url}}),s("div",{staticClass:"m-y-md color-light"},[e._v(e._s(e.googleToken.secret))]),s("div",{staticClass:"color-theme-1",on:{click:function(t){return e.$copy(e.googleToken.secret)}}},[e._v(e._s(e.$t("safe.c1")))])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step&&!e.user.google_token,expression:"step==1&&!user.google_token"}],staticClass:"p-md bg-panel-4"},[s("p",{staticClass:"d-flex m-b-xs"},[s("van-checkbox",{staticClass:"m-r-xs",attrs:{"icon-size":"15px","checked-color":"#f05319"},model:{value:e.checkToken,callback:function(t){e.checkToken=t},expression:"checkToken"}}),e._v(e._s(e.$t("safe.c2"))+" ")],1),s("v-button",{staticClass:"w-max",attrs:{disabled:!e.checkToken,type:"primary"},on:{click:function(t){e.step++}}},[e._v(e._s(e.$t("safe.c3")))])],1),s("main",{directives:[{name:"show",rawName:"v-show",value:2==e.step||e.user.google_token,expression:"step==2||user.google_token"}],staticClass:"layout-main bg-panel-4 m-t-md"},[1==e.user.phone_status?s("div",{staticClass:"form-item border-b p-md"},[s("div",{staticClass:"label m-b-xs"},[e._v(e._s(e.$t("safe.c4")))]),s("div",{staticClass:"input color-light"},[s("v-input",{attrs:{placeholder:e.$t("safe.a6")},scopedSlots:e._u([{key:"right",fn:function(){return[s("v-code",{attrs:{url:"/user/getCode",data:{type:1}}})]},proxy:!0}],null,!1,296673472),model:{value:e.form.sms_code,callback:function(t){e.$set(e.form,"sms_code",t)},expression:"form.sms_code"}})],1)]):e._e(),1==e.user.email_status?s("div",{staticClass:"form-item border-b p-md"},[s("div",{staticClass:"label m-b-xs"},[e._v(e._s(e.$t("safe.a5")))]),s("div",{staticClass:"input color-light"},[s("v-input",{attrs:{placeholder:e.$t("safe.a6")},scopedSlots:e._u([{key:"right",fn:function(){return[s("v-code",{attrs:{url:"/user/getCode",data:{type:2}}})]},proxy:!0}],null,!1,4197024707),model:{value:e.form.email_code,callback:function(t){e.$set(e.form,"email_code",t)},expression:"form.email_code"}})],1)]):e._e(),s("div",{staticClass:"form-item border-b p-md"},[s("div",{staticClass:"label m-b-xs"},[e._v(e._s(e.$t("safe.b9")))]),s("div",{staticClass:"input color-light"},[s("v-input",{attrs:{placeholder:e.$t("safe.a6")},model:{value:e.form.google_code,callback:function(t){e.$set(e.form,"google_code",t)},expression:"form.google_code"}})],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step==2"}],staticClass:"p-md bg-panel-4"},[s("v-button",{ref:"btn",staticClass:"w-max",attrs:{type:"theme"},on:{click:e.bindGoogle}},[e._v(e._s(e.$t("safe.c6")))])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.user.google_token,expression:"user.google_token"}],staticClass:"p-md bg-panel-4"},[s("v-button",{ref:"btn1",staticClass:"w-max",attrs:{type:"theme"},on:{click:e.unBindGoogle}},[e._v(e._s(e.$t("safe.a0")))])],1)],1)},a=[],n=s("5530"),c=s("2f62"),i=s("90e7"),l={data:function(){return{step:1,checkToken:!1,googleToken:{},form:{google_token:"",google_code:"",sms_code:"",email_code:""}}},computed:Object(n["a"])({},Object(c["c"])({user:"user"})),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])({setUserInfo:"setUserInfo"})),{},{getToken:function(){var e=this;i["a"].getGoogleToken().then((function(t){e.googleToken=t.data})).catch((function(){}))},bindGoogle:function(){var e=this;this.form.google_token=this.googleToken.secret,i["a"].bindGoogleToken(this.form,{btn:this.$refs.btn}).then((function(){e.step=1,e.$back(-1),e.setUserInfo(),e.$toast.success(e.$t("safe.a9"))})).catch((function(){}))},unBindGoogle:function(){var e=this;i["a"].unbindGoogleToken(this.form,{btn:this.$refs.btn1}).then((function(){e.$back(),e.setUserInfo(),e.$toast.success(e.$t("safe.a8"))})).catch((function(){}))}}),created:function(){this.user.google_token||this.getToken()},beforeRouteLeave:function(e,t,s){1!=this.step?(this.step--,s(!1)):s()}},r=l,u=(s("11dc"),s("2877")),d=Object(u["a"])(r,o,a,!1,null,"15c4a731",null);t["default"]=d.exports},d2f9:function(e,t,s){}}]);